
'Test module for the custom examples\n\nCustom 1:\n\n>>> import custom\n>>> c1 = custom.Custom()\n>>> c2 = custom.Custom()\n>>> del c1\n>>> del c2\n\n\nCustom 2\n\n>>> import custom2\n>>> c1 = custom2.Custom(\'jim\', \'fulton\', 42)\n>>> c1.first\n\'jim\'\n>>> c1.last\n\'fulton\'\n>>> c1.number\n42\n>>> c1.name()\n\'jim fulton\'\n>>> c1.first = \'will\'\n>>> c1.name()\n\'will fulton\'\n>>> c1.last = \'tell\'\n>>> c1.name()\n\'will tell\'\n>>> del c1.first\n>>> c1.name()\nTraceback (most recent call last):\n...\nAttributeError: first\n>>> c1.first\nTraceback (most recent call last):\n...\nAttributeError: first\n>>> c1.first = \'drew\'\n>>> c1.first\n\'drew\'\n>>> del c1.number\nTraceback (most recent call last):\n...\nTypeError: can\'t delete numeric/char attribute\n>>> c1.number=2\n>>> c1.number\n2\n>>> c1.first = 42\n>>> c1.name()\n\'42 tell\'\n>>> c2 = custom2.Custom()\n>>> c2.name()\n\' \'\n>>> c2.first\n\'\'\n>>> c2.last\n\'\'\n>>> del c2.first\n>>> c2.first\nTraceback (most recent call last):\n...\nAttributeError: first\n>>> c2.first\nTraceback (most recent call last):\n...\nAttributeError: first\n>>> c2.name()\nTraceback (most recent call last):\n  File "<stdin>", line 1, in ?\nAttributeError: first\n>>> c2.number\n0\n>>> n3 = custom2.Custom(\'jim\', \'fulton\', \'waaa\')\nTraceback (most recent call last):\n  File "<stdin>", line 1, in ?\nTypeError: an integer is required (got type str)\n>>> del c1\n>>> del c2\n\n\nCustom 3\n\n>>> import custom3\n>>> c1 = custom3.Custom(\'jim\', \'fulton\', 42)\n>>> c1 = custom3.Custom(\'jim\', \'fulton\', 42)\n>>> c1.name()\n\'jim fulton\'\n>>> del c1.first\nTraceback (most recent call last):\n  File "<stdin>", line 1, in ?\nTypeError: Cannot delete the first attribute\n>>> c1.first = 42\nTraceback (most recent call last):\n  File "<stdin>", line 1, in ?\nTypeError: The first attribute value must be a string\n>>> c1.first = \'will\'\n>>> c1.name()\n\'will fulton\'\n>>> c2 = custom3.Custom()\n>>> c2 = custom3.Custom()\n>>> c2 = custom3.Custom()\n>>> n3 = custom3.Custom(\'jim\', \'fulton\', \'waaa\')\nTraceback (most recent call last):\n  File "<stdin>", line 1, in ?\nTypeError: an integer is required (got type str)\n>>> del c1\n>>> del c2\n\nCustom 4\n\n>>> import custom4\n>>> c1 = custom4.Custom(\'jim\', \'fulton\', 42)\n>>> c1.first\n\'jim\'\n>>> c1.last\n\'fulton\'\n>>> c1.number\n42\n>>> c1.name()\n\'jim fulton\'\n>>> c1.first = \'will\'\n>>> c1.name()\n\'will fulton\'\n>>> c1.last = \'tell\'\n>>> c1.name()\n\'will tell\'\n>>> del c1.first\nTraceback (most recent call last):\n...\nTypeError: Cannot delete the first attribute\n>>> c1.name()\n\'will tell\'\n>>> c1.first = \'drew\'\n>>> c1.first\n\'drew\'\n>>> del c1.number\nTraceback (most recent call last):\n...\nTypeError: can\'t delete numeric/char attribute\n>>> c1.number=2\n>>> c1.number\n2\n>>> c1.first = 42\nTraceback (most recent call last):\n...\nTypeError: The first attribute value must be a string\n>>> c1.name()\n\'drew tell\'\n>>> c2 = custom4.Custom()\n>>> c2 = custom4.Custom()\n>>> c2 = custom4.Custom()\n>>> c2 = custom4.Custom()\n>>> c2.name()\n\' \'\n>>> c2.first\n\'\'\n>>> c2.last\n\'\'\n>>> c2.number\n0\n>>> n3 = custom4.Custom(\'jim\', \'fulton\', \'waaa\')\nTraceback (most recent call last):\n...\nTypeError: an integer is required (got type str)\n\n\nTest cyclic gc(?)\n\n>>> import gc\n>>> gc.disable()\n\n>>> class Subclass(custom4.Custom): pass\n...\n>>> s = Subclass()\n>>> s.cycle = [s]\n>>> s.cycle.append(s.cycle)\n>>> x = object()\n>>> s.x = x\n>>> del s\n>>> sys.getrefcount(x)\n3\n>>> ignore = gc.collect()\n>>> sys.getrefcount(x)\n2\n\n>>> gc.enable()\n'
import os
import sys
from distutils.util import get_platform
PLAT_SPEC = ('%s-%d.%d' % (get_platform(), *sys.version_info[:2]))
src = os.path.join('build', ('lib.%s' % PLAT_SPEC))
sys.path.append(src)
if (__name__ == '__main__'):
    import doctest, __main__
    doctest.testmod(__main__)
